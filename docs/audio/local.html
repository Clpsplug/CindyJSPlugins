<!DOCTYPE html>
<html>
<head>
<title>Playing a local audio file</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<link rel="stylesheet" href="https://cindyjs.org/dist/latest/CindyJS.css">
<script type="text/javascript" src="https://cindyjs.org/dist/latest/Cindy.js"></script>

<script type="text/javascript" src="../dist/latest/audio/audio.js"></script>

<script type="text/javascript">
  CindyJS( {
    ports: [ 
      { 
        id: "CSCanvas", 
        width: 700, height: 600, 
        transform: [ { visibleRect: [ 0, 6, 7, 0 ] } ]  // left,top,right,bottom
      }
    ],
    defaultAppearance: {
       fontFamily: "sans-serif",
       textsize: 12.0
    },
    scripts:"cs*",
    autoplay: true,
    use: [ "audio" ],
    geometry: [

      {name: "Play", type: "Button", pos: [6.25, 5.5], color: [0.0, 0.0, 0.0], text: "Play"
                   , script: 'playaudio( "file://audiofile" );' },
      {name: "Stop", type: "Button", pos: [6.25, 5.0], color: [0.0, 0.0, 0.0], text: "Stop"
                   , script: 'stopaudio();' },

      {name:"SpectrogramL", type:"Free", pos:[ 0.50,  5.75 ], labeled: true},
      {name:"SpectrogramR", type:"Free", pos:[ 3.50,  5.75 ], labeled: true},
      {name:"SpectrumL",    type:"Free", pos:[ 0.50,  2.75 ], labeled: true},
      {name:"SpectrumR",    type:"Free", pos:[ 3.50,  2.75 ], labeled: true},
    ],
  } );
</script>

<script id="csdraw" type="text/x-cindyscript">
  repeat( 2, start->0, ch, 
     audiodrawspectrogram( if( ch == 0, SpectrogramL, SpectrogramR ), ch );
     audiodrawspectrum( if( ch == 0, SpectrumL, SpectrumR ), ch );
  );
</script>

</head>

<body>
<p><a href="./">Back</a></p>
<h2>Playing a local audio file</h2>
<ol>
<li>Select a file from <input type="file" id="audiofile"></li>
<li>Push Play button.</li>
</ol>
<div id="CSCanvas" style="width:700px; height:600px;"></div>
</body>

</html>
